
                  <!-- data -->
                                
                  <!-- Upload Area -->
                  <div id="uploadArea">
                    <form id="mediaDropzone" class="dropzone border-2 border-dashed rounded-lg p-6 text-center">
                      <div class="dz-message">
                        <p class="font-medium">Drag & Drop photo or video here</p>
                        <p class="text-sm text-gray-500">or click to browse</p>
                      </div>
                    </form>
                  </div>

                  <!-- Preview Area -->
                  <div id="previewArea" class="hidden mt-4">
                    <canvas id="imageCanvas" class="border max-w-full hidden"></canvas>
                    <video id="videoPreview" controls class="w-full hidden"></video>

                    <div id="imageTools" class="flex gap-2 mt-3 hidden">
                      <button type="button" class="filterBtn" data-filter="grayscale(1)">Grayscale</button>
                      <button type="button" class="filterBtn" data-filter="sepia(1)">Sepia</button>
                      <button type="button" class="filterBtn" data-filter="brightness(1.2)">Bright</button>
                    </div>

                    <input
                      type="text"
                      id="captionText"
                      placeholder="Add text on image / caption..."
                      class="w-full border rounded p-2 mt-3"
                    />

                    <button id="sendMedia" type="button"
                      class="mt-4 w-full bg-blue-600 text-white py-2 rounded">
                      Send
                    </button>

                    <script>
                $(document).ready(function () {

                  Dropzone.autoDiscover = false;

                  if (Dropzone.instances.length > 0) {
                    Dropzone.instances.forEach(dz => dz.destroy());
                  }

                  let uploadedFile = null;
                  const canvas = document.getElementById("imageCanvas");
                  const ctx = canvas.getContext("2d");
                  const img = new Image();

                  const dz = new Dropzone("#mediaDropzone", {
                    url: "#",
                    autoProcessQueue: false,
                    maxFiles: 1,
                    acceptedFiles: "image/*,video/*",

                    init: function () {
                      this.on("addedfile", function (file) {
                        uploadedFile = file;
                        $("#uploadArea").hide();
                        $("#previewArea").removeClass("hidden");

                        if (file.type.startsWith("image")) {
                          showImage(file);
                        } else {
                          showVideo(file);
                        }
                      });
                    }
                  });

                  function showImage(file) {
                    $("#imageCanvas, #imageTools").removeClass("hidden");
                    $("#videoPreview").addClass("hidden");

                    const reader = new FileReader();
                    reader.onload = e => {
                      img.onload = () => {
                        canvas.width = img.width;
                        canvas.height = img.height;
                        ctx.filter = "none";
                        ctx.drawImage(img, 0, 0);
                      };
                      img.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                  }

                  function showVideo(file) {
                    $("#videoPreview").removeClass("hidden");
                    $("#imageCanvas, #imageTools").addClass("hidden");
                    $("#videoPreview").attr("src", URL.createObjectURL(file));
                  }

                  $(".filterBtn").on("click", function () {
                    ctx.filter = $(this).data("filter");
                    ctx.drawImage(img, 0, 0);
                  });

                  $("#captionText").on("input", function () {
                    ctx.drawImage(img, 0, 0);
                    ctx.font = "40px Arial";
                    ctx.fillStyle = "white";
                    ctx.fillText($(this).val(), 40, canvas.height - 60);
                  });

                  $("#sendMedia").on("click", function () {
                    const formData = new FormData();

                    if (uploadedFile.type.startsWith("image")) {
                      canvas.toBlob(blob => {
                        formData.append("file", blob, "edited.png");
                        formData.append("caption", $("#captionText").val());
                        send(formData);
                      });
                    } else {
                      formData.append("file", uploadedFile);
                      formData.append("caption", $("#captionText").val());
                      send(formData);
                    }
                  });

                  function send(fd) {
                    $.ajax({
                      url: "/upload",
                      type: "POST",
                      data: fd,
                      processData: false,
                      contentType: false,
                      success: () => alert("Uploaded")
                    });
                  }

                });
                </script>

                  
                  <!-- data -->



                      <!-- Contacts -->
    <div class="mt-6 flex-1 overflow-y-auto">

      <p class="px-4 mb-3 text-sm text-gray-400">
        Contacts on URUGANIRIRO
      </p>

      <div class="space-y-5 px-4">

        <!-- Contact: You -->
        <div class="flex items-center gap-4">
          <img
            src="https://i.pravatar.cc/150?img=3"
            class="w-12 h-12 rounded-full"
            alt="profile"
          />
          <div>
            <p class="font-medium">
              Patrick Nshimiyimana <span class="text-gray-400">(You)</span>
            </p>
            <p class="text-sm text-gray-400">
              <i class="fa-solid fa-message mr-1"></i>
              Message yourself
            </p>
          </div>
        </div>

        <!-- Alphabet Divider -->
        <p class="text-gray-500 text-sm font-medium">#</p>

        <!-- Contact -->
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 flex items-center justify-center rounded-full bg-gray-700 text-xl">
            <i class="dripicons-user"></i>
          </div>
          <div>
            <p class="font-medium">0</p>
            <p class="text-sm text-gray-400">
              <i class="fa-brands fa-whatsapp mr-1 text-green-500"></i>
              Hey there! I am using WhatsApp.
            </p>
          </div>
        </div>

        <!-- Contact -->
        <div class="flex items-center gap-4">
          <img
            src="https://i.pravatar.cc/150?img=8"
            class="w-12 h-12 rounded-full"
            alt="profile"
          />
          <div>
            <p class="font-medium">The Promese Services Ltd</p>
            <p class="text-sm text-gray-400">
              <i class="uil uil-briefcase mr-1"></i>
              Business account
            </p>
          </div>
        </div>

      </div>
    </div>